<!doctype html>
<html lang="pt-br"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Contas — Ordeminds</title>
<link rel="icon" href="/assets/logo-mark.png">
<link rel="stylesheet" href="/assets/style.css"/>
<script defer src="/assets/theme.js"></script>
<script defer src="/assets/app.js"></script>
</head><body>
<header><nav>
  <div class="logo-wrap">
    <img src="/assets/logo-mark.png" alt="logo"/>
    <img class="logo-word light" src="/assets/logo-wordmark-white.png" alt="Ordeminds"/>
    <img class="logo-word dark"  src="/assets/logo-wordmark-dark.png"  alt="Ordeminds"/>
  </div>
  <span class="spacer"></span>
  <button id="themeToggle" class="btn" onclick="toggleTheme()"></button>
  <a class="btn" data-role="loginBtn" href="/login">Entrar</a>
  <a class="btn primary" data-role="loginBtn" href="/signup">Criar conta</a>
  <span id="account"></span>
</nav></header>

<main class="layout">
  <aside class="sidebar">
    <div class="panel"><h3>Menu</h3>
      <div class="grid" style="grid-template-columns:1fr">
        <a class="btn" href="/app">Painel</a><a class="btn" href="/agenda">Agenda</a><a class="btn" href="/tasks">Tarefas</a><a class="btn" href="/shopping">Compras</a><a class="btn" href="/bills">Contas</a><a class="btn" href="/reports">Relatórios</a><a class="btn" href="/profile">Perfil</a>
      </div>
    </div>
  </aside>
  <section class="grid">
    
<div class="panel" style="grid-column:1/3"><h1>Contas</h1>
<form onsubmit="addBill(event)"><div class="row"><input id="btitle" placeholder="Descrição"><input id="bval" type="number" step="0.01" placeholder="Valor"><input id="bdate" type="date"><button class="btn primary">OK</button></div></form>
<ul id="bills" style="padding-left:1rem"></ul></div>
<script>document.addEventListener("DOMContentLoaded",()=>{ (async()=>{const r=await fetch("/api/bills"); const a= await r.json(); bills.innerHTML=""; a.forEach(b=>{const li=document.createElement("li"); const d=new Date(b.due_date); li.innerHTML=`${b.title} — R$ ${( +b.amount).toFixed(2)} — ${d.toLocaleDateString()} <input type='checkbox' ${b.paid?"checked":""} data-bid='${b.id}'> <button class='btn' data-bdel='${b.id}'>x</button>`; bills.appendChild(li);}); })(); });</script>

  </section>
</main>

</body></html>